extends ../layout

block header
	a(href="/", title="Go to main page")
		span.structural Cloudlist
		div.logo
			include ../../client/img/cloudlist-logo.svg
	div.controls
		button.fullscreen
			span.structural Toggle fullscreen mode
			include ../../client/img/icon-fullscreen.svg
		button.info-toggle
			span.structural Toggle info screen
			include ../../client/img/icon-info.svg
		button.play-state
			span.structural Toggle play/pause
			div.play
				include ../../client/img/icon-state-play.svg
			div.pause
				include ../../client/img/icon-state-pause.svg
		input.volume-slider(type="range", step="1", value="90", min="0", max="100")

block content
	section.hero.group
		div.hero-inner
			h1.collection-title
				span.structural Oblique Strategies
				| <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 816.755 305.193"><path d="M155.887 106.453c10.988-12.696 17.99-27.588 21.002-44.676 3.137-17.793 1.229-32.537-5.722-44.233-6.953-11.696-17.883-17.544-32.789-17.544-14.967 0-28.035 5.952-39.207 17.853-11.172 11.902-18.367 26.986-21.588 45.25-3.086 17.499-1.362 32.273 5.176 44.322 6.536 12.05 17.552 18.073 33.048 18.073 15.731 0 29.09-6.348 40.08-19.045zm-59.675-7.16c-4.491-9.279-5.432-21.313-2.825-36.103 2.67-15.142 7.866-27.397 15.586-36.766 7.719-9.368 16.735-14.052 27.047-14.052 10.193 0 17.604 4.331 22.234 12.992 4.629 8.661 5.573 20.769 2.831 36.324-2.671 15.143-7.827 27.516-15.472 37.119-7.645 9.604-16.74 14.406-27.286 14.406-10.252 0-17.625-4.639-22.115-13.92zM236.512 123.112c13.315 0 23.732-3.195 31.253-9.589 7.521-6.393 12.116-14.332 13.79-23.818 1.245-7.07.301-13.403-2.837-19.001-3.137-5.597-8.756-9.485-16.855-11.666 15.047-4.477 23.777-13.551 26.188-27.221 1.37-7.777-.327-14.611-5.091-20.504-4.764-5.891-13.156-8.838-25.176-8.838h-47.725l-21.272 120.637h47.725zm-14.036-108.353h30.137c7.777 0 13.323 1.709 16.639 5.126 3.315 3.418 4.485 7.896 3.509 13.434-.987 5.598-3.673 10.473-8.059 14.627-4.386 4.154-12.029 6.23-22.929 6.23h-26.249l6.952-39.417zm-8.977 50.907h30.137c7.011 0 12.108 1.002 15.29 3.005 3.182 2.004 5.42 4.847 6.715 8.529 1.295 3.683 1.563 7.675.807 11.975-1.081 6.128-4.11 11.107-9.086 14.936-4.977 3.831-11.412 5.745-19.307 5.745h-32.347l7.791-44.19zM316.005 109.855l18.934-107.38h-15.466l-21.273 120.637h71.233l2.338-13.257h-55.766zM423.229 2.475h-15.113l-21.271 120.637h15.113l21.271-120.637zM478.485 145.958c4.287 3.917 11.057 5.877 20.308 5.877 4.3 0 8.562-.619 12.788-1.856l2.136-12.108c-4.259.765-8.951 1.149-14.077 1.149-10.725 0-15.301-4.449-13.732-13.345l.384-1.679c11.341-2.828 21.51-10.045 30.509-21.653 8.998-11.606 14.858-25.128 17.582-40.566 3.272-18.56 1.267-33.496-6.02-44.808s-18.146-16.969-32.581-16.969c-14.789 0-27.794 5.921-39.013 17.764-11.222 11.843-18.484 27.132-21.787 45.869-3.107 17.618-1.296 32.333 5.429 44.146 6.725 11.813 17.834 17.72 33.331 17.72-1.126 9.721.455 16.54 4.743 20.459zm-24.781-46.665c-4.491-9.279-5.433-21.313-2.825-36.103 2.67-15.142 7.866-27.397 15.586-36.766 7.719-9.368 16.736-14.052 27.046-14.052 10.193 0 17.604 4.331 22.234 12.992 4.629 8.661 5.573 20.769 2.831 36.324-2.671 15.143-7.827 27.516-15.472 37.119-7.645 9.604-16.739 14.406-27.286 14.406-10.25 0-17.623-4.639-22.114-13.92zM622.425 81.22c-1.922 10.901-5.73 18.796-11.424 23.686-5.693 4.891-13.195 7.335-22.504 7.335-4.831 0-9.296-.913-13.392-2.74-4.098-1.826-6.898-4.654-8.403-8.484-1.505-3.829-1.431-10.429.221-19.797l13.886-78.746h-15.113l-13.885 78.746c-2.712 15.378-1.333 26.602 4.137 33.672 5.471 7.07 15.188 10.605 29.151 10.605 12.55 0 23.304-3.432 32.263-10.296 8.958-6.863 14.83-18.19 17.613-33.981l13.885-78.745h-12.55l-13.885 78.745zM673.409 109.855l7.666-43.482h48.608l2.167-12.285h-48.608l6.763-38.356h61.246l2.338-13.257h-76.359l-21.271 120.637h78.039l2.338-13.257h-62.927zM43.613 305.193c12.886 0 23.293-4.248 31.223-12.745s11.895-19.59 11.895-33.278c0-8.663-1.627-16.185-4.882-22.566s-7.312-10.888-12.176-13.522c-4.863-2.633-13.077-5.663-24.643-9.087-4.201-1.251-7.035-2.571-8.497-3.958-1.463-1.388-2.195-3.336-2.195-5.848 0-5.616 3.232-8.425 9.7-8.425 7.788 0 12.957 4.527 15.505 13.58l24.568-10.408c-6.325-22.137-19.328-33.206-39.011-33.206-12.981 0-22.928 4.231-29.843 12.692-6.915 8.46-10.372 19.07-10.372 31.825 0 9.916 2.406 18.542 7.219 25.878 4.812 7.338 15.692 13.279 32.64 17.827 4.437 1.253 7.517 2.688 9.241 4.307 1.722 1.62 2.584 3.883 2.584 6.79 0 5.551-3.729 8.326-11.187 8.326-9.582 0-15.53-5.452-17.842-16.355l-27.54 6.939c5.522 27.491 20.06 41.234 43.613 41.234zM158.948 200.224v-32.413h-68.182v32.413h20.037v102.888h28.108v-102.888h20.037zM235.908 244.135c6.891-4.56 11.47-9.829 13.735-15.81 2.266-5.979 3.398-12.869 3.398-20.667 0-11.959-3.08-21.591-9.239-28.894-6.16-7.301-14.81-10.953-25.949-10.953h-50.481v135.3h29.666v-51.741h9.354l14.116 51.741h32.887l-17.487-58.976zm-38.869-47.578h13.665c7.599 0 11.399 4.329 11.399 12.985 0 4.229-1.133 7.434-3.398 9.615-2.266 2.181-5.264 3.271-8.992 3.271h-12.673v-25.871zM350.977 303.112l-30.311-135.3h-31.365l-29.835 135.3h24.083l5.802-26.664h25.89l5.462 26.664h30.274zm-48.764-95.451l7.819 39.249h-15.636l7.817-39.249zM414.114 200.224v-32.413h-68.181v32.413h20.037v102.888h28.108v-102.888h20.036zM451.638 270.798v-22.104h35.259v-30.034h-35.259v-19.626h43.613v-31.223h-72.712v135.3h72.712v-32.313h-43.613zM546.936 227.284v28.745h16.001c-.047 5.288-1.334 9.451-3.858 12.489-2.525 3.04-5.582 4.56-9.169 4.56-4.437 0-8.213-2.494-11.328-7.483-3.115-4.989-4.673-15.314-4.673-30.976 0-25.903 4.861-38.855 14.585-38.855 7.41 0 11.824 7.038 13.24 21.113l28.745-3.965c-2.078-15.066-6.632-26.696-13.665-34.891-7.033-8.193-16.309-12.291-27.824-12.291-15.341 0-26.894 6.889-34.657 20.667-7.765 13.778-11.646 30.777-11.646 50.998 0 20.815 4.011 37.319 12.036 49.511 8.023 12.191 18.267 18.288 30.728 18.288 11.753 0 20.626-5.417 26.621-16.256 1.416 3.833 2.714 8.559 3.894 14.174h14.515v-75.828h-43.545zM606.125 167.812v135.3h29.666v-135.3h-29.666zM681.74 270.798v-22.104h35.259v-30.034h-35.259v-19.626h43.613v-31.223h-72.712v135.3h72.712v-32.313h-43.613zM773.638 305.193c12.885 0 23.293-4.248 31.223-12.745s11.895-19.59 11.895-33.278c0-8.663-1.627-16.185-4.882-22.566s-7.312-10.888-12.176-13.522c-4.863-2.633-13.077-5.663-24.643-9.087-4.202-1.251-7.035-2.571-8.497-3.958-1.464-1.388-2.195-3.336-2.195-5.848 0-5.616 3.232-8.425 9.7-8.425 7.788 0 12.956 4.527 15.505 13.58l24.567-10.408c-6.325-22.137-19.328-33.206-39.011-33.206-12.98 0-22.929 4.231-29.843 12.692-6.915 8.46-10.372 19.07-10.372 31.825 0 9.916 2.406 18.542 7.22 25.878 4.812 7.338 15.692 13.279 32.64 17.827 4.438 1.253 7.518 2.688 9.241 4.307 1.722 1.62 2.584 3.883 2.584 6.79 0 5.551-3.729 8.326-11.187 8.326-9.582 0-15.529-5.452-17.842-16.355l-27.541 6.938c5.522 27.492 20.06 41.235 43.614 41.235z"/></svg>
			button.start-playlist
				span.structural Start playlist
				| <svg viewBox="0 0 612 612" class="play"><use xlink:href="#icon-play-main"></use></svg>
				| <svg viewBox="0 0 612 612" class="pause"><use xlink:href="#icon-pause-main"></use></svg>
		if prod
			img.collection-hero(src="#{config.cdn}/media/img/oblique-strategies-hero.jpg", width="338", height="454", alt="")
		else
			img.collection-hero(src="#{config.host.protocol}://#{config.host.name}/media/img/oblique-strategies-hero.jpg", width="338", height="454", alt="")

	- var obfuscatedCollectionId = hashids.encodeHex(collection._id);
	section.collection.group(data-id="#{obfuscatedCollectionId}")
		header.collection-header
			div.header-shadow
			h3.collection-sub-title #{collection.title}
			h4.structural Sort tracks:
			ul(class="sort group")
				li.col.index(data-sort-type="index")
					strong.asc Index<svg viewBox="0 0 612 306"><use xlink:href="#icon-caret-asc"></use></svg>
				li.col.title(data-sort-type="title")
					span Title
				li.col.artist(data-sort-type="artist")
					span Artist
				li.col.time(data-sort-type="time")
					span Time
		h3.structural.
			Song list
		ol
			each song, index in songs
				- var obfuscatedId = hashids.encodeHex(song._id);
				- song = structureSong(song);

				li(class=song.available === true ? undefined : "unavailable", data-id="#{obfuscatedId}", data-index="#{index+1}", data-artist="#{song.combinedartist}", data-title="#{song.title}")
					a(href="#{config.host.protocol}://#{config.host.name}/#{path}/#{song.permalink}/")
						span.state-icon
							| <svg viewBox="0 0 73.784 58.753" class="state-playing"><use xlink:href="#icon-audio-playing"></use></svg>
							| <svg viewBox="0 0 73.784 58.753" class="state-paused"><use xlink:href="#icon-audio-paused"></use></svg>
						div.col.index #{index+1}
						div.col.title
							span #{song.title}
						div.col.artist
							span #{song.combinedartist}
						div.col.time
							span.duration #{song.duration}
					- var placeholder = song.covers[0].placeholder;
					if (placeholder)
						div.cover.placeholder(style="background: #{song.covers[0].placeholder.gradient}; width: #{song.covers[0].width}px; height: #{song.covers[0].height}px;")
					else
						div.cover.placeholder(style="width: #{song.covers[0].width}px; height: #{song.covers[0].height}px;")
	footer.go-to-top
		a(href="#top") Top â†‘
